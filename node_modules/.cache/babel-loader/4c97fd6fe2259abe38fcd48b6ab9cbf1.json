{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/FALL2021COMP523Project/fanzplay/src/pages/GameManagement/EndGameManage.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport GameInfos from \"../components/GameInfos\";\nimport axios from \"axios\";\nimport { resultsURL } from \"../../api/api\";\nimport { ListGroup, Row, Col } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EndGameManage = () => {\n  _s();\n\n  const location = useLocation(); // game info past in location.state.thisGame\n\n  const thisGame = location.state.thisGame;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            color: \"#afe607\"\n          },\n          children: \"Game Result Leaderboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(GameInfos, {\n          thisGame: thisGame\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(LeaderBoard, {\n          game: thisGame\n        }, `board${thisGame.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(EndGameManage, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n\n_c = EndGameManage;\n\nconst LeaderBoard = ({\n  game\n}) => {\n  _s2();\n\n  const [resultList, setResultList] = React.useState(Array.from([]));\n  React.useEffect(() => {\n    axios.get(resultsURL).then(response => {\n      //filter the result list for only this game\n      setResultList(response.data.filter(r => r.gid == game.id));\n    });\n  }, []);\n  console.log(resultList);\n  let t1List = resultList.filter(result => result.tid == \"t1\").sort((a, b) => b.score.integerValue - a.score.integerValue);\n  let t2List = resultList.filter(result => result.tid == \"t2\").sort((a, b) => b.score.integerValue - a.score.integerValue);\n  let t1Score = t1List.map(result => parseInt(result.score)).reduce((a, b) => a + b, 0);\n  let t2Score = t2List.map(result => parseInt(result.score)).reduce((a, b) => a + b, 0);\n  console.log(t1Score);\n  console.log(t2Score);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: \"white\"\n          },\n          children: [\"Total Score: \", t1Score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n          variant: \"flush\",\n          children: Array.from(t1List).map(result => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [result.uid, \": \", result.score]\n          }, `result${result.uid}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 30\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: \"white\"\n          },\n          children: [\"Total Score: \", t2Score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n          variant: \"flush\",\n          children: Array.from(t2List).map(result => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [result.uid, \": \", result.score]\n          }, `result${result.uid}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 30\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s2(LeaderBoard, \"txfYa4d79gW6taZCN1GozAHmv1E=\");\n\n_c2 = LeaderBoard;\nexport default EndGameManage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"EndGameManage\");\n$RefreshReg$(_c2, \"LeaderBoard\");","map":{"version":3,"sources":["/Users/owner/Desktop/FALL2021COMP523Project/fanzplay/src/pages/GameManagement/EndGameManage.js"],"names":["React","useLocation","GameInfos","axios","resultsURL","ListGroup","Row","Col","EndGameManage","location","thisGame","state","color","id","LeaderBoard","game","resultList","setResultList","useState","Array","from","useEffect","get","then","response","data","filter","r","gid","console","log","t1List","result","tid","sort","a","b","score","integerValue","t2List","t1Score","map","parseInt","reduce","t2Score","uid"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {useLocation} from \"react-router-dom\";\nimport GameInfos from \"../components/GameInfos\";\nimport axios from \"axios\";\nimport {resultsURL} from \"../../api/api\";\nimport {ListGroup, Row, Col} from \"react-bootstrap\";\n\nconst EndGameManage = () =>{\n    const location = useLocation()\n    // game info past in location.state.thisGame\n    const thisGame = location.state.thisGame;\n    return(\n        <>\n            <div className={\"background\"}>\n                <div className={\"overlay\"}>\n                    <h1 style={{color: \"#afe607\"}}>Game Result Leaderboard</h1>\n                    <GameInfos thisGame={thisGame} />\n                    <LeaderBoard key={`board${thisGame.id}`} game = {thisGame}></LeaderBoard>\n                </div>\n            </div>\n\n        </>\n    )\n}\n\nconst LeaderBoard = ({game}) =>{\n    const [resultList, setResultList] = React.useState(Array.from([]));\n      React.useEffect(() => {\n        axios.get(resultsURL).then((response) => {\n            //filter the result list for only this game\n          setResultList(response.data.filter(r => r.gid == game.id))\n\n        });\n      }, []);\n\n      console.log(resultList)\n    let t1List = resultList.filter(result => result.tid == \"t1\").sort((a,b) => b.score.integerValue - a.score.integerValue)\n    let t2List = resultList.filter(result => result.tid == \"t2\").sort((a,b) => b.score.integerValue - a.score.integerValue)\n    let t1Score = t1List.map(result => parseInt(result.score)).reduce((a,b) => a+b,0)\n    let t2Score = t2List.map(result => parseInt(result.score)).reduce((a,b) => a+b,0)\n    console.log(t1Score)\n    console.log(t2Score)\n\n    return(\n        <div>\n            <Row>\n                <Col>\n                    <h3 style={{color:\"white\"}}>Total Score: {t1Score}</h3>\n                    <ListGroup variant=\"flush\">\n                        {Array.from(t1List).map((result) => (\n                             <ListGroup.Item key={`result${result.uid}`}>{result.uid}: {result.score}</ListGroup.Item>\n                        ))}\n                    </ListGroup>\n                </Col>\n                <Col>\n                    <h3 style={{color:\"white\"}}>Total Score: {t2Score}</h3>\n                    <ListGroup variant=\"flush\">\n                        {Array.from(t2List).map((result) => (\n                             <ListGroup.Item key={`result${result.uid}`}>{result.uid}: {result.score}</ListGroup.Item>\n                        ))}\n                    </ListGroup>\n                </Col>\n            </Row>\n        </div>\n    )\n}\n\n\n\nexport default EndGameManage;"]},"metadata":{},"sourceType":"module"}