{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/FALL2021COMP523Project/fanzplay/src/components/loginAdmin.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { signin } from \"./auth.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction LoginAdmin(props) {\n  _s();\n\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = async () => {\n    try {\n      let a = await signin(username.value, password.value);\n\n      if (a.admin) {\n        localStorage.setItem('uid', a.id);\n        props.history.push('/home');\n      } else {\n        console.log(\"not a valid user\");\n        setError(\"not a valid user\");\n      }\n    } catch (error) {\n      setError(\"Incorrect password or username\");\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"logindiv\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"asset/fanzplay-logo.png\",\n      width: \"100\",\n      height: \"100\",\n      className: \"d-inline-block align-top\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }, this), \"Login\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Username\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ...username,\n        autoComplete: \"new-password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 15\n      },\n      children: [\"Password\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        ...password,\n        autoComplete: \"new-password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"small\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 66\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 76\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"button\",\n      value: 'Login',\n      onClick: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 68\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/signupadmin\",\n      children: \"register now!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/login\",\n      children: \"Log in as user\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginAdmin, \"tPQPH8iN8j04Dai1L3YP0F6HH9A=\", false, function () {\n  return [useFormInput, useFormInput];\n});\n\n_c = LoginAdmin;\n\nconst useFormInput = initialValue => {\n  _s2();\n\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\n_s2(useFormInput, \"L08zUdRTae9t+nWvf9xbU6NcRrM=\");\n\nexport default LoginAdmin;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginAdmin\");","map":{"version":3,"sources":["/Users/owner/Desktop/FALL2021COMP523Project/fanzplay/src/components/loginAdmin.js"],"names":["React","useState","signin","LoginAdmin","props","username","useFormInput","password","error","setError","loading","setLoading","handleLogin","a","value","admin","localStorage","setItem","id","history","push","console","log","marginTop","color","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"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","sourcesContent":["\nimport React, { useState } from 'react';\nimport {signin} from \"./auth.js\"\n\nfunction LoginAdmin(props) {\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = async () => {\n    try {\n      let a = await signin(username.value, password.value);\n      if(a.admin){\n        localStorage.setItem('uid', a.id);\n        props.history.push('/home');\n      }else{\n        console.log(\"not a valid user\");\n        setError(\"not a valid user\")\n      }\n    } catch (error) {\n      setError(\"Incorrect password or username\");\n      console.log(error);\n    }\n  }\n\n  return (\n    <div className=\"logindiv\" >\n    <img\n    src=\"asset/fanzplay-logo.png\"\n    width=\"100\"\n    height=\"100\"\n    className=\"d-inline-block align-top\"\n    />\n    <br />\n      Login<br /><br />\n      <div>\n        Username<br />\n        <input type=\"text\" {...username} autoComplete=\"new-password\" />\n      </div>\n      <div style={{ marginTop: 15 }}>\n        Password<br />\n        <input type=\"password\" {...password} autoComplete=\"new-password\" />\n      </div>\n      {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\n      <input type=\"button\" value={'Login'} onClick={handleLogin} /><br />\n      <a href=\"/signupadmin\">register now!</a>\n      <br />\n      <a href=\"/login\">Log in as user</a>\n    </div>\n  );\n}\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  }\n  return {\n    value,\n    onChange: handleChange\n  }\n}\n\nexport default LoginAdmin;\n"]},"metadata":{},"sourceType":"module"}