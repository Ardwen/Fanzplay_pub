{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/FALL2021COMP523Project/fanzplay/src/pages/GameManagement/PreGameManage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport GameInfos from \"../components/GameInfos\";\nimport { quizlist } from \"../../mockdata\";\nimport { Button, Form } from \"react-bootstrap\";\nimport NavSection from \"../components/NavSection\";\nimport { questionURL } from \"../../api/api\";\nimport { gamesURL } from \"../../api/api\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PreGameManage = () => {\n  _s();\n\n  const location = useLocation(); // game info past in location.state.thisGame\n\n  const thisGame = location.state.thisGame;\n  const qidlist = thisGame.qidlist;\n  const [currentlist, setList] = React.useState([]);\n  React.useEffect(() => {\n    axios.get(questionURL).then(response => {\n      setList(response.data.filter(q => qidlist.includes(q.id)));\n    }).catch(err => console.error(err));\n  }, []); // //add question\n\n  const [showQuestionForm, setQuestionForm] = useState(false);\n\n  const showForm = () => {\n    const onFormSubmit = e => {\n      e.preventDefault();\n      const formData = new FormData(e.target);\n      let formDataObj = Object.fromEntries(formData.entries());\n      let questionPost = {};\n      questionPost['question'] = formDataObj.question;\n      questionPost['answers'] = [formDataObj.answer1, formDataObj.answer2, formDataObj.answer3, formDataObj.answer4];\n      questionPost['correctIdx'] = parseInt(formDataObj.correctIdx); //may need to change these default values later\n\n      questionPost['score'] = 1;\n      questionPost['time'] = 5;\n      questionPost['tid'] = formDataObj.tid;\n      let currentQidList = Array.from(thisGame.qidlist);\n      axios.post(questionURL, questionPost).then(response => {\n        console.log(response.data.id);\n        currentQidList.push(response.data.id);\n        axios.put(gamesURL + `/${thisGame.id}`, {\n          qidlist: currentQidList\n        }).then(response => {\n          console.log(response.data);\n        });\n      });\n      setQuestionForm(false); // axios.put(gamesURL+`/${thisGame.id}`, {qidlist})\n      // console.log(thisGame.id)\n      // console.log(thisGame.qidlist)\n      // console.log(questionPost)\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: onFormSubmit,\n        style: {\n          backgroundColor: \"white\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Question\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Game Name\",\n            name: \"question\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Answers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Answer 1\",\n            name: \"answer1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Answer 2\",\n            name: \"answer2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Answer 3\",\n            name: \"answer3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter Answer 4\",\n            name: \"answer4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          \"aria-label\": \"Default select example\",\n          name: \"correctIdx\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Select Correct Answer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"Answer 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"Answer 2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"2\",\n            children: \"Answer 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"3\",\n            children: \"Answer 4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n          \"aria-label\": \"Default select example\",\n          name: \"tid\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Select Team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"t1\",\n            children: \"UNC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"t2\",\n            children: \"Duke\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"t3\",\n            children: \"Wake Forest\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"t4\",\n            children: \"Florida\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }, this)\n    }, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavSection, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            color: \"#afe607\"\n          },\n          children: \"Pre Game Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(GameInfos, {\n          thisGame: thisGame\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), currentlist.map((quiz, idx) => /*#__PURE__*/_jsxDEV(QuizBlock, {\n          quiz: quiz\n        }, `quiz${quiz.id}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            setQuestionForm(true);\n          },\n          children: \"Add Question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), showQuestionForm ? showForm() : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(PreGameManage, \"MBGQ1GgvHWhcREGnl28ExSivBM8=\", false, function () {\n  return [useLocation];\n});\n\n_c = PreGameManage;\n\nconst QuizBlock = ({\n  quiz\n}) => {\n  const style = {\n    display: \"block\",\n    background: \"rgb(251 251 251 / 30%)\",\n    borderRadius: \"0.5em\",\n    padding: \"0.5em\",\n    color: \"white\",\n    margin: \"1em 0em\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: style,\n    children: quiz.question\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 9\n  }, this);\n};\n\n_c2 = QuizBlock;\nexport default PreGameManage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PreGameManage\");\n$RefreshReg$(_c2, \"QuizBlock\");","map":{"version":3,"sources":["/Users/owner/Desktop/FALL2021COMP523Project/fanzplay/src/pages/GameManagement/PreGameManage.js"],"names":["React","useEffect","useState","useLocation","GameInfos","quizlist","Button","Form","NavSection","questionURL","gamesURL","axios","PreGameManage","location","thisGame","state","qidlist","currentlist","setList","get","then","response","data","filter","q","includes","id","catch","err","console","error","showQuestionForm","setQuestionForm","showForm","onFormSubmit","e","preventDefault","formData","FormData","target","formDataObj","Object","fromEntries","entries","questionPost","question","answer1","answer2","answer3","answer4","parseInt","correctIdx","tid","currentQidList","Array","from","post","log","push","put","backgroundColor","color","map","quiz","idx","QuizBlock","style","display","background","borderRadius","padding","margin"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\"\nimport {useLocation} from \"react-router-dom\";\nimport GameInfos from \"../components/GameInfos\";\nimport {quizlist} from \"../../mockdata\";\nimport {Button, Form} from \"react-bootstrap\";\nimport NavSection from \"../components/NavSection\";\nimport {questionURL} from \"../../api/api\";\nimport {gamesURL} from \"../../api/api\";\nimport axios from \"axios\";\n\nconst PreGameManage =() =>{\n    const location = useLocation()\n    // game info past in location.state.thisGame\n    const thisGame = location.state.thisGame;\n    const qidlist = thisGame.qidlist;\n    const [currentlist, setList] = React.useState([]);\n\n    React.useEffect(()=>{\n        axios.get(questionURL).then((response)=>{\n            setList(response.data.filter(q=>qidlist.includes(q.id)))\n            }).catch((err)=>console.error(err))\n    }, [])\n\n    // //add question\n    const [showQuestionForm, setQuestionForm] = useState(false);\n    const showForm = () =>{\n            const onFormSubmit = (e) =>{\n                e.preventDefault()\n                const formData = new FormData(e.target)\n                let formDataObj = Object.fromEntries(formData.entries())\n\n                let questionPost = {}\n                questionPost['question'] = formDataObj.question\n                questionPost['answers'] = [formDataObj.answer1, formDataObj.answer2, formDataObj.answer3, formDataObj.answer4]\n                questionPost['correctIdx'] = parseInt(formDataObj.correctIdx)\n                //may need to change these default values later\n                questionPost['score'] = 1\n                questionPost['time'] = 5\n                questionPost['tid'] = formDataObj.tid\n\n                let currentQidList = Array.from(thisGame.qidlist)\n\n                axios.post(questionURL, questionPost).then((response) =>{\n                    console.log(response.data.id)\n                    currentQidList.push(response.data.id)\n                    axios.put(gamesURL+`/${thisGame.id}`, {qidlist: currentQidList}).then(\n                        (response)=>{\n                            console.log(response.data)\n                        }\n                    )\n                })\n\n                setQuestionForm((false));\n                // axios.put(gamesURL+`/${thisGame.id}`, {qidlist})\n                // console.log(thisGame.id)\n                // console.log(thisGame.qidlist)\n                // console.log(questionPost)\n            }\n            return(\n                <>\n                  <Form onSubmit={onFormSubmit} style={{backgroundColor: \"white\"}}>\n                      <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                        <Form.Label>Question</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter Game Name\" name=\"question\"/>\n                      </Form.Group>\n\n                      <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                          <Form.Label>Answers</Form.Label>\n                          <Form.Control type=\"text\" placeholder=\"Enter Answer 1\" name=\"answer1\"/>\n                          <Form.Control type=\"text\" placeholder=\"Enter Answer 2\" name=\"answer2\"/>\n                          <Form.Control type=\"text\" placeholder=\"Enter Answer 3\" name=\"answer3\"/>\n                          <Form.Control type=\"text\" placeholder=\"Enter Answer 4\" name=\"answer4\"/>\n                      </Form.Group>\n\n                      <Form.Select aria-label=\"Default select example\" name = \"correctIdx\">\n                          <option>Select Correct Answer</option>\n                          <option value=\"0\">Answer 1</option>\n                          <option value=\"1\">Answer 2</option>\n                          <option value=\"2\">Answer 3</option>\n                          <option value=\"3\">Answer 4</option>\n                      </Form.Select>\n\n                      <Form.Select aria-label=\"Default select example\" name = \"tid\">\n                          <option>Select Team</option>\n                          <option value=\"t1\">UNC</option>\n                          <option value=\"t2\">Duke</option>\n                          <option value=\"t3\">Wake Forest</option>\n                          <option value=\"t4\">Florida</option>\n                      </Form.Select>\n\n                      <Button variant=\"primary\" type=\"submit\">\n                        Submit\n                      </Button>\n                  </Form>\n                </>\n            )\n        }\n    return(\n        <>\n            <NavSection />\n            <div className={\"background\"}>\n                <div className={\"overlay\"}>\n                    <h1 style={{color: \"#afe607\"}}>Pre Game Management</h1>\n                    <GameInfos thisGame={thisGame} />\n                    {currentlist.map((quiz, idx) =>(\n                        <QuizBlock key={`quiz${quiz.id}`} quiz={quiz} />\n                    ))}\n                    <Button onClick={() => {setQuestionForm((true))}}>Add Question</Button>\n                    {showQuestionForm? showForm():null}\n                </div>\n            </div>\n        </>\n    )\n}\n\nconst QuizBlock =({quiz})=>{\n    const style = {\n            display: \"block\",\n            background: \"rgb(251 251 251 / 30%)\",\n            borderRadius: \"0.5em\",\n            padding: \"0.5em\",\n            color: \"white\",\n            margin: \"1em 0em\"\n    }\n\n    return(\n        <div style={style}>{quiz.question}\n        </div>\n    )\n}\n\n\nexport default PreGameManage;"]},"metadata":{},"sourceType":"module"}